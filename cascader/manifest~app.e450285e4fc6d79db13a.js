(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"5gQ3":function(n,e,a){(n.exports=a("I1BE")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.cascader-menu {\n    display:flex;\n    cursor:default;\n    border: 1px solid #d1dbe5;\n    border-radius: 2px;\n    margin:5px 0;\n    box-shadow: 0 2px 4px rgba(0,0,0,.12), 0 0 6px rgba(0,0,0,.04);\n}\n.cascader-menu ul{\n    list-style:none;\n    padding:10px 0;\n    min-width:160px;\n    border-right: solid 1px #d1dbe5;\n    background-color: #fff;\n    box-sizing: border-box;\n    margin:0;\n}\n.cascader-menu li{\n    padding:10px 6px;\n    color: #48576a;\n     \n}\n.cascader-menu li.active{\n   background-color: #20a0ff;\n   color: #fff;\n}\n.cascader-menu li:hover{\n   background-color: #e4e8f1;\n   cursor:pointer;\n}\n.cascader-menu li.active:hover{\n    background-color: #1c8de0;\n} \n","",{version:3,sources:["/Users/hakusakaitekimac/Documents/SAN-LEARN/src/compoents/Cascader/menu.san?6deff4f6"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;IACA,aAAA;IACA,eAAA;IACA,0BAAA;IACA,mBAAA;IACA,aAAA;IACA,+DAAA;CACA;AACA;IACA,gBAAA;IACA,eAAA;IACA,gBAAA;IACA,gCAAA;IACA,uBAAA;IACA,uBAAA;IACA,SAAA;CACA;AACA;IACA,iBAAA;IACA,eAAA;;CAEA;AACA;GACA,0BAAA;GACA,YAAA;CACA;AACA;GACA,0BAAA;GACA,eAAA;CACA;AACA;IACA,0BAAA;CACA",file:"menu.san",sourcesContent:['\n<template> \n   <div className="cascader-menu" >\n        <ul s-for="options,index in activeOptions">\n            <li className="{{option.selected==true?\'active\':\'\'}}" s-for="option in options" on-click="handleClick(index,option)">\n                {{option.label}}\n            </li>\n        </ul>\n   </div>\n</template>\n<script>\n    import san, { DataTypes } from \'san\';\n   \n    export default {\n        dataTypes: {\n            option: DataTypes.array,\n        },\n        attached:function(){\n            this.acvl=[];\n            let option = this.data.get("option");\n            //初次加载应该是第0级的显示出来\n            this.data.set("activeOptions",[option])\n        },\n        handleChanged:function(){\n             // 向组件树的上层派发消息告诉父级组件选好了值了\n             \n            this.dispatch(\'Values:changed\',{\n                acv:this.data.get("activeValue"),\n                acvl:this.acvl\n            } );\n        },\n        handleClick:function(index,option){\n            \n            \n            let acv = this.data.get("activeValue");\n            //判断是否比当前的级别小，小于的话需要删除后边的activeValue\n            if(index+1<acv.length)\n                 acv = acv.splice(0,index+1);\n            acv[index]=option.value;\n            this.acvl[index] = option.label;\n            this.data.set("activeValue",acv);\n            this.handleData(index,option);\n            console.log(acv);\n        },  \n        //处理option数据进行级联格式化\n        handleData:function(currentLevel,data){\n            let options = this.data.get("option");\n\n            let new_option = [];\n            let activeValue = this.data.get("activeValue");\n    \n            //生成要显示的数据格式 参数:options 级别level\n            const makeData=(options,level=0)=>{\n\n                    for(var i = 0 ,max = options.length; i < max ; i++){\n                        if(!new_option[level]){\n                            new_option[level]=[];\n                            \n                        }\n                        new_option[level].push(options[i]);\n                        \n                       \n                        //递归 判断是否是选中的值才能进行递归\n                        if(options[i].value==activeValue[level]){\n                            options[i].selected = true;\n                            //判断是否有子元素才可以递归\n                            //如果不是 那么我们触发change\n                            options[i].children? makeData(options[i].children,level+1):this.handleChanged();\n                        }\n                        else{\n                            options[i].selected = false;\n                        }\n                    }\n                    \n            }\n\n            makeData(options);\n           \n            console.log(JSON.stringify(new_option),null,"\\t")\n            \n            this.data.set("activeOptions",new_option);\n            \n           \n\n        },\n        //初始化data\n        initData: function () {\n          \n            return {\n                //选中的值\n                activeValue:[],\n                //展示的选项\n                activeOptions:[[]]\n            }\n\n        },\n        \n    };\n<\/script>  \n\n<style>\n    .cascader-menu {\n        display:flex;\n        cursor:default;\n        border: 1px solid #d1dbe5;\n        border-radius: 2px;\n        margin:5px 0;\n        box-shadow: 0 2px 4px rgba(0,0,0,.12), 0 0 6px rgba(0,0,0,.04);\n    }\n    .cascader-menu ul{\n        list-style:none;\n        padding:10px 0;\n        min-width:160px;\n        border-right: solid 1px #d1dbe5;\n        background-color: #fff;\n        box-sizing: border-box;\n        margin:0;\n    }\n    .cascader-menu li{\n        padding:10px 6px;\n        color: #48576a;\n         \n    }\n    .cascader-menu li.active{\n       background-color: #20a0ff;\n       color: #fff;\n    }\n    .cascader-menu li:hover{\n       background-color: #e4e8f1;\n       cursor:pointer;\n    }\n    .cascader-menu li.active:hover{\n        background-color: #1c8de0;\n    } \n</style>\n'],sourceRoot:""}])},"62IR":function(n,e,a){var t=a("5gQ3");"string"==typeof t&&(t=[[n.i,t,""]]);a("aET+")(t,{hmr:!0,transform:void 0,insertInto:void 0}),t.locals&&(n.exports=t.locals)},BSB9:function(n,e,a){"use strict";a.r(e),a("OgUz");var t=a("S0Px"),o=a.n(t);e.default={initData:function(){return{option:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}]}},components:{"my-cascader":o.a}}},DmTW:function(n,e){n.exports='\n\n<div className="cascader-menu" >\n     <ul s-for="options,index in activeOptions">\n         <li className="{{option.selected==true?\'active\':\'\'}}" s-for="option in options" on-click="handleClick(index,option)">\n             {{option.label}}\n         </li>\n     </ul>\n</div>\n'},FD46:function(n,e,a){(n.exports=a("I1BE")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.cascader-input {  \n  border: 1px solid #dfdfdf;\n  padding: 5px 5px;\n  font-size: 14px;\n  width:200px;\n  transition:all .3s;\n  border-radius:5px;\n  \n  position:relative;\n}\n.cascader-input:hover{\n    border: 1px solid #666;\n    cursor:pointer;\n}\n.cascader-input .placeholder{\n    color: #999;\n}\n.menu-wrap{\n    position:absolute;\n    transform-origin: center top;\n    z-index:2;\n    transform:scaleY(1);\n     opacity:1;\n    transition: transform .3s cubic-bezier(.23,1,.32,1) .1s,opacity .3s cubic-bezier(.23,1,.32,1) .1s;\n    display:flex;\n\n}\n.menu-wrap.leave-active{\n     transform:scaleY(0);\n     opacity:0;\n}\n.cascader-wrap{\n    display:inline-block;\n}\n\n\n","",{version:3,sources:["/Users/hakusakaitekimac/Documents/SAN-LEARN/src/compoents/Cascader/cascader.san?b6c38934"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;EACA,0BAAA;EACA,iBAAA;EACA,gBAAA;EACA,YAAA;EACA,mBAAA;EACA,kBAAA;;EAEA,kBAAA;CACA;AACA;IACA,uBAAA;IACA,eAAA;CACA;AACA;IACA,YAAA;CACA;AACA;IACA,kBAAA;IACA,6BAAA;IACA,UAAA;IACA,oBAAA;KACA,UAAA;IACA,kGAAA;IACA,aAAA;;CAEA;AACA;KACA,oBAAA;KACA,UAAA;CACA;AACA;IACA,qBAAA;CACA",file:"cascader.san",sourcesContent:['\n<template>  \n    <div className="cascader-wrap" on-click="stopPropagation($event)">\n        <div on-click="handleClick($event)" className="cascader-input">\n            <span  className="placeholder">{{value==""?"请选择":value}}</span>\n        </div>\n        <div style="{{showMenu==true?\'\':\'visibility: hidden\'}}"  className="{{showMenu==true?\'menu-wrap\':\'menu-wrap leave-active\'}}">\n            <my-menu option="{{option}}" changed="handleChanged"/> \n        </div> \n    </div>\n  \n</template>\n<script>\n    import san, { DataTypes } from \'san\';\n    import Menu from "./menu.san";\n    export default {\n        dataTypes: {\n            option: DataTypes.array,\n        },\n        components: {\n            //引用组件\n            \'my-menu\': Menu,\n        },\n        inited:function(){\n            //当document其他元素被点击则隐藏\n            document.addEventListener("click",()=>{\n                this.data.set("showMenu",false);\n            })\n        },\n        stopPropagation:function(event){\n            //阻止冒泡,防止点击选项也会冒泡到document的隐藏\n            event.stopPropagation();\n        },\n        handleClick:function(e){\n          \n            let showMenu = this.data.get("showMenu");\n            this.data.set("showMenu",!showMenu);\n        },\n        handleChanged:function(values){\n            let text = values.acvl.join("/");\n             let showMenu = this.data.get("showMenu");\n            this.data.set("value",text);\n            this.data.set("showMenu",!showMenu);\n        },\n        messages: {\n            \'Values:changed\': function (arg) {\n                var value = arg.value;\n                this.handleChanged(value);\n\n                // arg.target 可以拿到派发消息的组件\n            }\n        },\n        //初始化data\n        initData: function () {\n            return {    \n                showMenu:false,\n                value:"",\n               \n            }\n\n        }\n    };\n<\/script>  \n\n<style>\n    .cascader-input {  \n      border: 1px solid #dfdfdf;\n      padding: 5px 5px;\n      font-size: 14px;\n      width:200px;\n      transition:all .3s;\n      border-radius:5px;\n      \n      position:relative;\n    }\n    .cascader-input:hover{\n        border: 1px solid #666;\n        cursor:pointer;\n    }\n    .cascader-input .placeholder{\n        color: #999;\n    }\n    .menu-wrap{\n        position:absolute;\n        transform-origin: center top;\n        z-index:2;\n        transform:scaleY(1);\n         opacity:1;\n        transition: transform .3s cubic-bezier(.23,1,.32,1) .1s,opacity .3s cubic-bezier(.23,1,.32,1) .1s;\n        display:flex;\n\n    }\n    .menu-wrap.leave-active{\n         transform:scaleY(0);\n         opacity:0;\n    }\n    .cascader-wrap{\n        display:inline-block;\n    }\n    \n    \n</style>\n'],sourceRoot:""}])},JW6K:function(n,e,a){"use strict";a.r(e);var t=a("OgUz"),o=a("UUgH"),i=a.n(o);e.default={dataTypes:{option:t.DataTypes.array},components:{"my-menu":i.a},inited:function(){document.addEventListener("click",()=>{this.data.set("showMenu",!1)})},stopPropagation:function(n){n.stopPropagation()},handleClick:function(n){let e=this.data.get("showMenu");this.data.set("showMenu",!e)},handleChanged:function(n){let e=n.acvl.join("/"),a=this.data.get("showMenu");this.data.set("value",e),this.data.set("showMenu",!a)},messages:{"Values:changed":function(n){var e=n.value;this.handleChanged(e)}},initData:function(){return{showMenu:!1,value:""}}}},QPMz:function(n,e,a){var t,o,i={};a("vmAQ"),(t=a("BSB9"))&&t.__esModule&&Object.keys(t).length>1&&console.warn("[san-loader] src/app.san: named exports in *.san files are ignored."),o=a("hG+S");var s={};t&&(s=t.__esModule?t.default:t),o&&(s.template=o);var l=a("OgUz").defineComponent(s);n.exports=l,n.exports.__esModule&&(n.exports=n.exports.default),l.computed||(l.computed={}),Object.keys(i).forEach(function(n){var e=i[n];l.computed[n]=function(){return e}})},S0Px:function(n,e,a){var t,o,i={};a("pUsk"),(t=a("JW6K"))&&t.__esModule&&Object.keys(t).length>1&&console.warn("[san-loader] src/compoents/Cascader/cascader.san: named exports in *.san files are ignored."),o=a("TGKK");var s={};t&&(s=t.__esModule?t.default:t),o&&(s.template=o);var l=a("OgUz").defineComponent(s);n.exports=l,n.exports.__esModule&&(n.exports=n.exports.default),l.computed||(l.computed={}),Object.keys(i).forEach(function(n){var e=i[n];l.computed[n]=function(){return e}})},TGKK:function(n,e){n.exports='\n\n<div className="cascader-wrap" on-click="stopPropagation($event)">\n    <div on-click="handleClick($event)" className="cascader-input">\n        <span  className="placeholder">{{value==""?"请选择":value}}</span>\n    </div>\n    <div style="{{showMenu==true?\'\':\'visibility: hidden\'}}"  className="{{showMenu==true?\'menu-wrap\':\'menu-wrap leave-active\'}}">\n        <my-menu option="{{option}}" changed="handleChanged"/> \n    </div> \n</div>\n\n'},UUgH:function(n,e,a){var t,o,i={};a("62IR"),(t=a("WDIZ"))&&t.__esModule&&Object.keys(t).length>1&&console.warn("[san-loader] src/compoents/Cascader/menu.san: named exports in *.san files are ignored."),o=a("DmTW");var s={};t&&(s=t.__esModule?t.default:t),o&&(s.template=o);var l=a("OgUz").defineComponent(s);n.exports=l,n.exports.__esModule&&(n.exports=n.exports.default),l.computed||(l.computed={}),Object.keys(i).forEach(function(n){var e=i[n];l.computed[n]=function(){return e}})},WDIZ:function(n,e,a){"use strict";a.r(e);var t=a("OgUz");e.default={dataTypes:{option:t.DataTypes.array},attached:function(){this.acvl=[];let n=this.data.get("option");this.data.set("activeOptions",[n])},handleChanged:function(){this.dispatch("Values:changed",{acv:this.data.get("activeValue"),acvl:this.acvl})},handleClick:function(n,e){let a=this.data.get("activeValue");n+1<a.length&&(a=a.splice(0,n+1)),a[n]=e.value,this.acvl[n]=e.label,this.data.set("activeValue",a),this.handleData(n,e),console.log(a)},handleData:function(n,e){let a=this.data.get("option"),t=[],o=this.data.get("activeValue");const i=(n,e=0)=>{for(var a=0,s=n.length;a<s;a++)t[e]||(t[e]=[]),t[e].push(n[a]),n[a].value==o[e]?(n[a].selected=!0,n[a].children?i(n[a].children,e+1):this.handleChanged()):n[a].selected=!1};i(a),console.log(JSON.stringify(t),null,"\t"),this.data.set("activeOptions",t)},initData:function(){return{activeValue:[],activeOptions:[[]]}}}},"hG+S":function(n,e){n.exports='\n<div id="app">\n   <my-cascader option="{{option}}"/>\n</div>\n'},pUsk:function(n,e,a){var t=a("FD46");"string"==typeof t&&(t=[[n.i,t,""]]);a("aET+")(t,{hmr:!0,transform:void 0,insertInto:void 0}),t.locals&&(n.exports=t.locals)},pypq:function(n,e,a){(n.exports=a("I1BE")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.hello {\n  color: skyblue;\n}\n","",{version:3,sources:["/Users/hakusakaitekimac/Documents/SAN-LEARN/src/app.san?02bc6288"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;EACA,eAAA;CACA",file:"app.san",sourcesContent:["<template>\n    <div id=\"app\">\n       <my-cascader option=\"{{option}}\"/>\n    </div>\n</template> \n\n\n<script>\n    /*\n        暂时还不知数据校验应该用什么\n    */\n    import san, { DataTypes } from 'san';\n    //引用组件\n    import Cascader from './compoents/Cascader/cascader.san';\n\n\n    export default {\n       initData:function(){\n           return {\n                option: [{\n                    value: 'zhinan',\n                    label: '指南',\n                    children: [{\n                        value: 'shejiyuanze',\n                        label: '设计原则',\n                        children: [{\n                            value: 'yizhi',\n                            label: '一致'\n                        }, {\n                            value: 'fankui',\n                            label: '反馈'\n                        }, {\n                            value: 'xiaolv',\n                            label: '效率'\n                        }, {\n                            value: 'kekong',\n                            label: '可控'\n                        }]\n                    }, {\n                        value: 'daohang',\n                        label: '导航',\n                        children: [{\n                            value: 'cexiangdaohang',\n                            label: '侧向导航'\n                        }, {\n                            value: 'dingbudaohang',\n                            label: '顶部导航'\n                        }]\n                    }]\n                }, {\n                    value: 'ziyuan',\n                    label: '资源',\n                    children: [{\n                        value: 'axure',\n                        label: 'Axure Components'\n                    }, {\n                        value: 'sketch',\n                        label: 'Sketch Templates'\n                    }, {\n                        value: 'jiaohu',\n                        label: '组件交互文档'\n                    }]\n                }]\n           }\n       },\n        components: {\n            //引用组件\n            'my-cascader': Cascader,\n        }\n    };\n<\/script>  \n\n<style>\n    .hello {\n      color: skyblue;\n    }\n</style>\n\n"],sourceRoot:""}])},tjUo:function(n,e,a){"use strict";var t;(new(((t=a("QPMz"))&&t.__esModule?t:{default:t}).default)).attach(document.body)},vmAQ:function(n,e,a){var t=a("pypq");"string"==typeof t&&(t=[[n.i,t,""]]);a("aET+")(t,{hmr:!0,transform:void 0,insertInto:void 0}),t.locals&&(n.exports=t.locals)}}]);